function makeMarkarea(e,a){for(var n=0;n<e.length;n++){for(var t=e[n],o="",i=0;i<a.dataset.length;i++)for(var s=0;s<a.dataset[i].source.length;s++){var m=a.dataset[i].source[s].name;if("jank"==m||"bigjank"==m||"ftime"==m||"net_flow"==m||"battery_temperature"==m)break;if(a.dataset[i].source[s].time==t){o+=a.dataset[i].source[s].name+":"+a.dataset[i].source[s].value+"\n";break}}for(var i=0;i<a.series.length;i++)a.series[i].markArea.data.push([{name:o,xAxis:t-1e3},{xAxis:t}])}}function loadDataFromJson(e,a){for(var n in e)n in nameInfo&&(a.dataset[nameInfo[n].index].source=e[n])}function changeChartsLang(e,a){"cn"==e&&(a.legend.data=new Array,["cpu","pss","net_flow","battery_temperature","fps","jank","bigjank","ftime"].forEach(function(e,n){a.yAxis[n].name=nameInfo[e].name_cn,a.series[n].name=nameInfo[e].name_cn,a.legend.data.push(nameInfo[e].name_cn)}))}var nameInfo={cpu:{index:0,unit:"%",name:"CPU usage (%)",name_cn:"CPU占用(%)",div1024:!1},pss:{index:1,unit:"M",name:"Memory usage (MB)",name_cn:"内存占用(MB)",div1024:!0},net_flow:{index:2,unit:"K/s",name:"Network traffic (KB/s)",name_cn:"网络流量(KB/s)",div1024:!0},battery_temperature:{index:3,unit:"℃",name:"Battery temperature (°C)",name_cn:"电池温度(℃)",div1024:!1},fps:{index:4,unit:"Hz",name:"FPS(Hz)",name_cn:"FPS(Hz)",div1024:!1},jank:{index:5,unit:"Times",name:"Jank(Times)",name_cn:"卡顿(次)",div1024:!1},bigjank:{index:6,unit:"Times",name:"BigJank(Times)",name_cn:"严重卡顿(次)",div1024:!1},ftime:{index:7,unit:"ms",name:"FTime(ms)",name_cn:"帧耗时(ms)",div1024:!1}},colorPalette=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"];localOption={color:colorPalette,title:{text:"性能数据监控"},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},grid:{left:"15%",right:"15%"},legend:{selected:{"FTime(ms)":!1,"帧耗时(ms)":!1,"BigJank(Times)":!1,"严重卡顿(次)":!1,"Network traffic (KB/s)":!1,"网络流量(KB/s)":!1,"Battery temperature (°C)":!1,"电池温度(℃)":!1,"Jank(Times)":!1,"卡顿(次)":!1},top:"30px",data:[nameInfo.cpu.name,nameInfo.pss.name,nameInfo.net_flow.name,nameInfo.battery_temperature.name,nameInfo.fps.name,nameInfo.jank.name,nameInfo.bigjank.name,nameInfo.ftime.name]},toolbox:{feature:{dataZoom:{yAxisIndex:"none"},saveAsImage:{}}},dataset:[{dimensions:["name","value","time"],source:[]},{dimensions:["name","value","time"],source:[]},{dimensions:["name","value","time"],source:[]},{dimensions:["name","value","time"],source:[]},{dimensions:["name","value","time"],source:[]},{dimensions:["name","value","time"],source:[]},{dimensions:["name","value","time"],source:[]},{dimensions:["name","value","time"],source:[]}],dataZoom:[{show:!0,realtime:!0,start:0,end:100,handleIcon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z",handleSize:"80%",handleStyle:{color:"#fff",shadowBlur:3,shadowColor:"rgba(0, 0, 0, 0.6)",shadowOffsetX:2,shadowOffsetY:2}},{type:"inside",realtime:!0,start:0,end:100}],xAxis:[{type:"time",boundaryGap:!1,gridIndex:0,axisLine:{lineStyle:{color:"#040F26"}},splitNumber:5,triggerEvent:!0}],yAxis:[{type:"value",name:nameInfo.cpu.name,position:"left",axisLabel:{formatter:"{value} %"},axisLine:{lineStyle:{color:colorPalette[0]}},splitLine:{show:!1}},{type:"value",name:nameInfo.pss.name,position:"left",offset:70,nameLocation:"start",axisLabel:{formatter:"{value} MB"},axisLine:{lineStyle:{color:colorPalette[1]}},splitLine:{show:!1}},{type:"value",name:nameInfo.net_flow.name,position:"left",offset:140,axisLabel:{formatter:"{value} KB/s"},axisLine:{lineStyle:{color:colorPalette[2]}},splitLine:{show:!1}},{type:"value",name:nameInfo.battery_temperature.name,position:"left",nameLocation:"start",axisLabel:{formatter:"{value} ℃"},offset:210,axisLine:{lineStyle:{color:colorPalette[3]}},splitLine:{show:!1}},{type:"value",name:nameInfo.fps.name,position:"right",axisLabel:{formatter:"{value} Hz"},offset:0,axisLine:{lineStyle:{color:colorPalette[4]}},splitLine:{show:!1}},{type:"value",name:nameInfo.jank.name,position:"right",nameLocation:"start",axisLabel:{formatter:"{value} Times"},offset:70,axisLine:{lineStyle:{color:colorPalette[5]}},splitLine:{show:!1}},{type:"value",name:nameInfo.bigjank.name,position:"right",axisLabel:{formatter:"{value} Times"},offset:140,axisLine:{lineStyle:{color:colorPalette[6]}},splitLine:{show:!1}},{type:"value",name:nameInfo.ftime.name,position:"right",nameLocation:"start",axisLabel:{formatter:"{value} ms"},offset:210,axisLine:{lineStyle:{color:colorPalette[7]}},splitLine:{show:!1}}],series:[{type:"line",datasetIndex:0,name:nameInfo.cpu.name,yAxisIndex:0,smooth:!1,symbol:"none",sampling:"average",encode:{x:"time",y:"value",tooltip:["time","value"]},markArea:{silent:!0,label:{show:!0,position:"insideBottomLeft"},data:[]}},{type:"line",datasetIndex:1,name:nameInfo.pss.name,yAxisIndex:1,smooth:!1,symbol:"none",sampling:"average",encode:{x:"time",y:"value"},markArea:{silent:!0,label:{show:!0,position:"insideBottomLeft"},data:[]}},{type:"line",datasetIndex:2,name:nameInfo.net_flow.name,yAxisIndex:2,smooth:!1,symbol:"none",sampling:"average",encode:{x:"time",y:"value"},markArea:{silent:!0,label:{show:!0,position:"insideBottomLeft"},data:[]}},{type:"line",datasetIndex:3,name:nameInfo.battery_temperature.name,yAxisIndex:3,smooth:!1,symbol:"none",sampling:"average",encode:{x:"time",y:"value"},markArea:{silent:!0,label:{show:!0,position:"insideBottomLeft"},data:[]}},{type:"line",datasetIndex:4,name:nameInfo.fps.name,yAxisIndex:4,smooth:!1,symbol:"none",sampling:"average",encode:{x:"time",y:"value"},markArea:{silent:!0,label:{show:!0,position:"insideBottomLeft"},data:[]}},{type:"line",datasetIndex:5,name:nameInfo.jank.name,yAxisIndex:5,smooth:!1,symbol:"none",sampling:"average",encode:{x:"time",y:"value"},markArea:{silent:!0,label:{show:!0,position:"insideBottomLeft"},data:[]}},{type:"line",datasetIndex:6,name:nameInfo.bigjank.name,yAxisIndex:6,smooth:!1,symbol:"none",sampling:"average",encode:{x:"time",y:"value"},markArea:{silent:!0,label:{show:!0,position:"insideBottomLeft"},data:[]}},{type:"line",datasetIndex:7,name:nameInfo.ftime.name,yAxisIndex:7,smooth:!1,symbol:"none",sampling:"average",encode:{x:"time",y:"value"},markArea:{silent:!0,label:{show:!0,position:"insideBottomLeft"},data:[]}}]};var resizeChartsContainer=function(e){var a=document.getElementById(e);a.style.width=a.parentNode.clientWidth+"px",a.style.height=Math.min(a.parentNode.clientHeight,500)+"px"};window.onresize=function(){Array.prototype.forEach.call(document.getElementsByClassName("charts_main"),function(e){resizeChartsContainer(e.id),echarts.getInstanceByDom(e).resize()})};